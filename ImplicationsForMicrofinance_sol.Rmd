**An Interactive Anaylsis in R**


Welcome to my interactive RTutor Problemset, containing the main results from the paper **Credit Elasticities in Less-Developed Economies: Implications for Microfinance** by Dean S. Karlan (Department of Economics, Yale University) and Jonathan Zinma (Department of Economics, Dartmouth College) published by the American Economic Review in 2008.


# Exercise Content

1. Introduction 

2. Data Overview

3. Theoretical Model

4. Regression Analysis

5. Estimation

6. Conclusion

7. Appendix

8. References



## Introduction

#< ignore

```{r "0_1"}
#library(restorepoint)
# facilitates error detection
#set.restore.point.options(display.restore.point=TRUE)

library(RTutor)
library(yaml)
#library(restorepoint)

setwd("~/Documents/GitHub/thesis_code_rep/")

ps.name = "ImplicationsForMicrofinance"
sol.file = paste0(ps.name, "_sol.Rmd")
libs = c("ggplot2", "haven", "statar", "dplyr", "weights", "lmtest", "lfe", "stargazer", "regtools")

create.ps(sol.file = sol.file, ps.name = ps.name, user.name=NULL, libs = libs, addons = "quiz")

show.ps(ps.name, launch.browser = TRUE, auto.save.code = FALSE, sample.solution = FALSE)
stop()

```

#>
## Exercise 1 -- Data Overview

***
### How do we read a Stata File in R?
`read_dta` from the package `haven` reads a file in Stata version 5-12 binary format into a data frame in R. This funtion only supports Stata formats after 12, but since we have a 5-12 format it can be used.
***

1.1) Load the data file _kz_demandelasts_aer08.dta_ and store it in the variable `stata_data`. To do so, first load the package `haven` with the `library()` command. If you think your answer is right press `check`:

```{r "1 a) "}
library(haven)
#< hint
display("library(...)")
#>
```

1.2) Now you can use the command `read_dta()` to load the data file.

```{r "1 a) 2"}
stata_data <- read_dta("~/Documents/GitHub/thesis_code_rep/kz_demandelasts_aer08.dta")
#< hint
display("... <- ...(~/Documents/GitHub/thesis_code_rep/kz_demandelasts_aer08.dta)")
#>
```

After loading in the data, we can now have a deeper look into our data and the according parameters. But first let's have a rough look at our data stored in `stata_data`.

There are a variaty of ways to get an overview on a data set. We will use the R function `head()`to show the first six rows of our data set stored in `stata_data`. An alternative would be to show six random sample rows,  use the command `sample_n(data,#rows)`. This will help us to get familiar with the variables and understand how the data set is structured.

1.3) Show the first six rows of our data file stored in `stata_data`. Afterwards press the `check` button.Are there any inconsistencies?

```{r "1 b) "}
head(stata_data)
#< hint
display("head(...)")
#>
```

If yes, try `sample_n()` inorder to show six random rows of our data set `stata_data`.

```{r "1 b) 2"}
sample_n(stata_data)
#< hint
display("sample_n(...,6)")
#>
```




